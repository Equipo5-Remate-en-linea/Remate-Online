{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dale0\\\\OneDrive\\\\Escritorio\\\\Pruebas de SW\\\\PROYECTO\\\\Remate-Online\\\\remates-app v3\\\\remates-frontend\\\\src\\\\components\\\\inicio_sesion.js\",\n  _s = $RefreshSig$();\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport { useState } from \"react\";\nimport endpoints from \"../api/endpoints\";\nimport \"../assets/inicio_sesion.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction InicioSesion({\n  estado,\n  setEstado,\n  setInicioExitoso\n}) {\n  _s();\n  const Cerrar = () => setEstado(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const ActualizarContrasena = event => {\n    setPassword(event.target.value); // Actualiza el estado cuando cambia el valor\n  };\n  const ActualizarEmail = event => {\n    setEmail(event.target.value); // Actualiza el estado cuando cambia el valor\n  };\n  const iniciar_sesion = async event => {\n    event.preventDefault();\n    const Usuario = {\n      email: email,\n      contrasena: password\n    };\n\n    // Hacer la solicitud POST al backend\n    fetch(endpoints.login, {\n      method: \"POST\",\n      // Método POST para crear\n      headers: {\n        \"Content-Type\": \"application/json\" // Indicar que se envían datos JSON\n      },\n      body: JSON.stringify(Usuario) // Convertir los datos a JSON para enviarlos\n    }).then(response => response.json()).then(data => {\n      if (data[\"problema\"] === \"Usuario\" || data[\"problema\"] === \"Contrasena\") {\n        setError(\"Correo o contraseña invalida\");\n      } else {\n        localStorage.setItem(\"token\", data[\"token\"]);\n        document.cookie = `token=${data[\"token\"]}; path=/; max-age=3600`;\n        setError(\"\");\n        Cerrar();\n        setInicioExitoso(true);\n      }\n    }).catch(error => {\n      console.error(\"Error al validar usuario:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: estado,\n      onHide: Cerrar,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: iniciar_sesion,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Direcci\\xF3n de correo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"name@example.com\",\n              value: email,\n              onChange: ActualizarEmail,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              htmlFor: \"inputPassword5\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              \"aria-describedby\": \"passwordHelpBlock\",\n              placeholder: \"Ingrese su contrase\\xF1a\",\n              value: password,\n              onChange: ActualizarContrasena,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\"\n              },\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              className: \"color-boton\",\n              type: \"submit\",\n              children: \"Iniciar sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(InicioSesion, \"/oUdbphBttpIcUsa7P1v1069QkA=\");\n_c = InicioSesion;\nexport default InicioSesion;\nvar _c;\n$RefreshReg$(_c, \"InicioSesion\");","map":{"version":3,"names":["Button","Modal","Form","useState","endpoints","jsxDEV","_jsxDEV","Fragment","_Fragment","InicioSesion","estado","setEstado","setInicioExitoso","_s","Cerrar","email","setEmail","password","setPassword","error","setError","ActualizarContrasena","event","target","value","ActualizarEmail","iniciar_sesion","preventDefault","Usuario","contrasena","fetch","login","method","headers","body","JSON","stringify","then","response","json","data","localStorage","setItem","document","cookie","catch","console","children","show","onHide","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","onSubmit","Group","className","Label","Control","type","placeholder","onChange","required","htmlFor","style","color","Footer","variant","_c","$RefreshReg$"],"sources":["C:/Users/dale0/OneDrive/Escritorio/Pruebas de SW/PROYECTO/Remate-Online/remates-app v3/remates-frontend/src/components/inicio_sesion.js"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { useState } from \"react\";\r\nimport endpoints from \"../api/endpoints\";\r\nimport \"../assets/inicio_sesion.css\";\r\n\r\nfunction InicioSesion({ estado, setEstado, setInicioExitoso }) {\r\n  const Cerrar = () => setEstado(false);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const ActualizarContrasena = (event) => {\r\n    setPassword(event.target.value); // Actualiza el estado cuando cambia el valor\r\n  };\r\n\r\n  const ActualizarEmail = (event) => {\r\n    setEmail(event.target.value); // Actualiza el estado cuando cambia el valor\r\n  };\r\n\r\n  const iniciar_sesion = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const Usuario = {\r\n      email: email,\r\n      contrasena: password,\r\n    };\r\n\r\n    // Hacer la solicitud POST al backend\r\n    fetch(endpoints.login, {\r\n      method: \"POST\", // Método POST para crear\r\n      headers: {\r\n        \"Content-Type\": \"application/json\", // Indicar que se envían datos JSON\r\n      },\r\n      body: JSON.stringify(Usuario), // Convertir los datos a JSON para enviarlos\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (\r\n          data[\"problema\"] === \"Usuario\" ||\r\n          data[\"problema\"] === \"Contrasena\"\r\n        ) {\r\n          setError(\"Correo o contraseña invalida\");\r\n        } else {\r\n          localStorage.setItem(\"token\", data[\"token\"]);\r\n          document.cookie = `token=${data[\"token\"]}; path=/; max-age=3600`;\r\n          setError(\"\");\r\n          Cerrar();\r\n          setInicioExitoso(true);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error al validar usuario:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal show={estado} onHide={Cerrar}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Iniciar Sesión</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={iniciar_sesion}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Dirección de correo</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                placeholder=\"name@example.com\"\r\n                value={email}\r\n                onChange={ActualizarEmail}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label htmlFor=\"inputPassword5\">Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                aria-describedby=\"passwordHelpBlock\"\r\n                placeholder=\"Ingrese su contraseña\"\r\n                value={password}\r\n                onChange={ActualizarContrasena}\r\n                required\r\n              />\r\n              {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n            </Form.Group>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" className=\"color-boton\" type=\"submit\">\r\n                Iniciar sesión\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InicioSesion;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}