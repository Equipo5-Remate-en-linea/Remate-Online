{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dale0\\\\OneDrive\\\\Escritorio\\\\Pruebas de SW\\\\PROYECTO\\\\Remate-Online\\\\remates-app v3\\\\remates-frontend\\\\src\\\\components\\\\navbar.js\",\n  _s = $RefreshSig$();\n// import { useEffect, useState } from 'react';\nimport \"../assets/navbar.css\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { useState } from \"react\";\nimport InicioSesion from \"./inicio_sesion\";\nimport Registrarse from \"./registro\";\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport endpoints from \"../api/endpoints\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NavbarCustom() {\n  _s();\n  const [estadoinicio, setEstadoInicio] = useState(false);\n  const [InicioExitoso, setInicioExitoso] = useState(false);\n  const [estadoregistro, setEstadoRegistro] = useState(false);\n  const [usuarioAdministrador, setusuarioAdministrador] = useState(false);\n  const AbrirInicio = () => setEstadoInicio(true);\n  const AbrirRegistro = () => setEstadoRegistro(true);\n  const navigate = useNavigate();\n  const PaginaAdministracion = () => {\n    navigate(\"/cuentas_administrador\");\n  };\n  useEffect(() => {\n    if (getCookie(\"token\") !== null) {\n      setInicioExitoso(true);\n    }\n    console.log(\"El componente se ha cargado\");\n\n    // Si necesitas ejecutar algo al desmontar el componente, puedes devolver una función:\n    return () => {\n      console.log(\"El componente se está desmontando\");\n    };\n  }, []);\n  const getCookie = name => {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) return parts.pop().split(\";\").shift();\n    return null;\n  };\n  const BorrarCookie = () => {\n    document.cookie = \"token=; path=/; max-age=0; SameSite=Strict\";\n    setInicioExitoso(false);\n  };\n  if (InicioExitoso === true) {\n    verificarUsuarioAdministrador();\n  }\n  async function verificarUsuarioAdministrador() {\n    try {\n      const response = await fetch(endpoints.usuarioAdmin, {\n        method: \"GET\",\n        credentials: \"include\" // Incluye las cookies en la solicitud\n      });\n      if (!response.ok) {\n        throw new Error(\"Error al obtener datos del usuario\");\n      }\n      const data = await response.text(); // O usa .json() si devuelves un objeto JSON\n      setusuarioAdministrador(data); // Muestra la respuesta en la consola\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    expand: \"lg\",\n    className: \"color-navbar tamano-navbar style-navbar margen-navbar\",\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        className: \"color-letra\",\n        href: \"/\",\n        children: \"El Rinc\\xF3n del Olvido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n        \"aria-controls\": \"basic-navbar-nav\",\n        className: \"color-toggle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          className: \"me-auto\",\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            className: \"color-letra\",\n            href: \"/\",\n            children: \"Inicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"justify-content-end \",\n          children: InicioExitoso ? /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"me-auto\",\n            children: [usuarioAdministrador && /*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: \"color-letra linea-bajo-texto\",\n              onClick: PaginaAdministracion,\n              children: \"Administracion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: \"color-letra linea-bajo-texto\",\n              onClick: BorrarCookie,\n              children: \"Cerrar sesion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"me-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: \"color-letra linea-bajo-texto\",\n              onClick: AbrirInicio,\n              children: \"Inicio sesion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: \"color-letra linea-bajo-texto\",\n              onClick: AbrirRegistro,\n              children: \"Registrarse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InicioSesion, {\n      estado: estadoinicio,\n      setEstado: setEstadoInicio,\n      setInicioExitoso: setInicioExitoso\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Registrarse, {\n      estado: estadoregistro,\n      setEstado: setEstadoRegistro\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(NavbarCustom, \"cPO2TpRmjNZRFSWVfmcCqArQaI0=\", false, function () {\n  return [useNavigate];\n});\n_c = NavbarCustom;\nexport default NavbarCustom;\nvar _c;\n$RefreshReg$(_c, \"NavbarCustom\");","map":{"version":3,"names":["Container","Nav","Navbar","useState","InicioSesion","Registrarse","React","useEffect","useNavigate","endpoints","jsxDEV","_jsxDEV","NavbarCustom","_s","estadoinicio","setEstadoInicio","InicioExitoso","setInicioExitoso","estadoregistro","setEstadoRegistro","usuarioAdministrador","setusuarioAdministrador","AbrirInicio","AbrirRegistro","navigate","PaginaAdministracion","getCookie","console","log","name","value","document","cookie","parts","split","length","pop","shift","BorrarCookie","verificarUsuarioAdministrador","response","fetch","usuarioAdmin","method","credentials","ok","Error","data","text","error","expand","className","children","Brand","href","fileName","_jsxFileName","lineNumber","columnNumber","Toggle","Collapse","id","Link","onClick","estado","setEstado","_c","$RefreshReg$"],"sources":["C:/Users/dale0/OneDrive/Escritorio/Pruebas de SW/PROYECTO/Remate-Online/remates-app v3/remates-frontend/src/components/navbar.js"],"sourcesContent":["// import { useEffect, useState } from 'react';\r\nimport \"../assets/navbar.css\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport { useState } from \"react\";\r\nimport InicioSesion from \"./inicio_sesion\";\r\nimport Registrarse from \"./registro\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport endpoints from \"../api/endpoints\";\r\n\r\nfunction NavbarCustom() {\r\n  const [estadoinicio, setEstadoInicio] = useState(false);\r\n  const [InicioExitoso, setInicioExitoso] = useState(false);\r\n  const [estadoregistro, setEstadoRegistro] = useState(false);\r\n  const [usuarioAdministrador, setusuarioAdministrador] = useState(false);\r\n\r\n  const AbrirInicio = () => setEstadoInicio(true);\r\n  const AbrirRegistro = () => setEstadoRegistro(true);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const PaginaAdministracion = () => {\r\n    navigate(\"/cuentas_administrador\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getCookie(\"token\") !== null) {\r\n      setInicioExitoso(true);\r\n    }\r\n    console.log(\"El componente se ha cargado\");\r\n\r\n    // Si necesitas ejecutar algo al desmontar el componente, puedes devolver una función:\r\n    return () => {\r\n      console.log(\"El componente se está desmontando\");\r\n    };\r\n  }, []);\r\n\r\n  const getCookie = (name) => {\r\n    const value = `; ${document.cookie}`;\r\n    const parts = value.split(`; ${name}=`);\r\n    if (parts.length === 2) return parts.pop().split(\";\").shift();\r\n    return null;\r\n  };\r\n\r\n  const BorrarCookie = () => {\r\n    document.cookie = \"token=; path=/; max-age=0; SameSite=Strict\";\r\n    setInicioExitoso(false);\r\n  };\r\n\r\n  if (InicioExitoso === true) {\r\n    verificarUsuarioAdministrador();\r\n  }\r\n\r\n  async function verificarUsuarioAdministrador() {\r\n    try {\r\n      const response = await fetch(endpoints.usuarioAdmin, {\r\n        method: \"GET\",\r\n        credentials: \"include\", // Incluye las cookies en la solicitud\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Error al obtener datos del usuario\");\r\n      }\r\n\r\n      const data = await response.text(); // O usa .json() si devuelves un objeto JSON\r\n      setusuarioAdministrador(data); // Muestra la respuesta en la consola\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Navbar\r\n      expand=\"lg\"\r\n      className=\"color-navbar tamano-navbar style-navbar margen-navbar\"\r\n    >\r\n      <Container>\r\n        <Navbar.Brand className=\"color-letra\" href=\"/\">\r\n          El Rincón del Olvido\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle\r\n          aria-controls=\"basic-navbar-nav\"\r\n          className=\"color-toggle\"\r\n        />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link className=\"color-letra\" href=\"/\">\r\n              Inicio\r\n            </Nav.Link>\r\n          </Nav>\r\n          <div className=\"justify-content-end \">\r\n            {InicioExitoso ? (\r\n              <Nav className=\"me-auto\">\r\n                {usuarioAdministrador && (\r\n                  <Nav.Link\r\n                    className=\"color-letra linea-bajo-texto\"\r\n                    onClick={PaginaAdministracion}\r\n                  >\r\n                    Administracion\r\n                  </Nav.Link>\r\n                )}\r\n                <Nav.Link\r\n                  className=\"color-letra linea-bajo-texto\"\r\n                  onClick={BorrarCookie}\r\n                >\r\n                  Cerrar sesion\r\n                </Nav.Link>\r\n              </Nav>\r\n            ) : (\r\n              <Nav className=\"me-auto\">\r\n                <Nav.Link\r\n                  className=\"color-letra linea-bajo-texto\"\r\n                  onClick={AbrirInicio}\r\n                >\r\n                  Inicio sesion\r\n                </Nav.Link>\r\n                <Nav.Link\r\n                  className=\"color-letra linea-bajo-texto\"\r\n                  onClick={AbrirRegistro}\r\n                >\r\n                  Registrarse\r\n                </Nav.Link>\r\n              </Nav>\r\n            )}\r\n          </div>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n      <InicioSesion\r\n        estado={estadoinicio}\r\n        setEstado={setEstadoInicio}\r\n        setInicioExitoso={setInicioExitoso}\r\n      />\r\n      <Registrarse estado={estadoregistro} setEstado={setEstadoRegistro} />\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default NavbarCustom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}